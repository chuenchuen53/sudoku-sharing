import { assert, expect, describe, it } from "vitest";
import Sudoku from "../src/Sudoku";
import type { InputClues } from "../src/sudoku/type";

export const emptyPuzzle: InputClues = [
  ["0", "0", "0", "0", "0", "0", "0", "0", "0"],
  ["0", "0", "0", "0", "0", "0", "0", "0", "0"],
  ["0", "0", "0", "0", "0", "0", "0", "0", "0"],
  ["0", "0", "0", "0", "0", "0", "0", "0", "0"],
  ["0", "0", "0", "0", "0", "0", "0", "0", "0"],
  ["0", "0", "0", "0", "0", "0", "0", "0", "0"],
  ["0", "0", "0", "0", "0", "0", "0", "0", "0"],
  ["0", "0", "0", "0", "0", "0", "0", "0", "0"],
  ["0", "0", "0", "0", "0", "0", "0", "0", "0"],
];

export const testingPuzzle1: InputClues = [
  ["2", "0", "0", "0", "0", "0", "8", "6", "0"],
  ["0", "0", "0", "0", "4", "2", "0", "0", "0"],
  ["0", "1", "0", "0", "6", "0", "0", "4", "7"],
  ["3", "4", "5", "0", "2", "0", "0", "0", "1"],
  ["7", "2", "0", "0", "0", "0", "4", "0", "9"],
  ["8", "0", "0", "0", "0", "0", "5", "0", "6"],
  ["0", "0", "2", "0", "3", "0", "0", "0", "0"],
  ["0", "0", "0", "6", "8", "0", "0", "1", "2"],
  ["5", "0", "8", "0", "0", "0", "0", "0", "4"],
];

export const testingPuzzle2: InputClues = [
  ["0", "3", "0", "9", "0", "0", "0", "0", "0"],
  ["6", "0", "0", "2", "0", "0", "8", "0", "0"],
  ["8", "0", "0", "6", "1", "0", "5", "4", "9"],
  ["0", "0", "0", "0", "3", "2", "1", "0", "0"],
  ["2", "0", "8", "0", "4", "0", "0", "0", "0"],
  ["0", "0", "3", "1", "9", "0", "0", "0", "4"],
  ["9", "0", "2", "0", "0", "0", "0", "0", "5"],
  ["1", "0", "0", "0", "0", "0", "0", "6", "0"],
  ["0", "0", "4", "0", "6", "0", "9", "0", "8"],
];

describe("sudoku basic", () => {
  it("createPuzzle", () => {
    const sudoku = new Sudoku(emptyPuzzle);
    const grid = sudoku.createPuzzle(testingPuzzle1);
    const gridExpected = [
      [{ clue: "2" }, {}, {}, {}, {}, {}, { clue: "8" }, { clue: "6" }, {}],
      [{}, {}, {}, {}, { clue: "4" }, { clue: "2" }, {}, {}, {}],
      [{}, { clue: "1" }, {}, {}, { clue: "6" }, {}, {}, { clue: "4" }, { clue: "7" }],
      [{ clue: "3" }, { clue: "4" }, { clue: "5" }, {}, { clue: "2" }, {}, {}, {}, { clue: "1" }],
      [{ clue: "7" }, { clue: "2" }, {}, {}, {}, {}, { clue: "4" }, {}, { clue: "9" }],
      [{ clue: "8" }, {}, {}, {}, {}, {}, { clue: "5" }, {}, { clue: "6" }],
      [{}, {}, { clue: "2" }, {}, { clue: "3" }, {}, {}, {}, {}],
      [{}, {}, {}, { clue: "6" }, { clue: "8" }, {}, {}, { clue: "1" }, { clue: "2" }],
      [{ clue: "5" }, {}, { clue: "8" }, {}, {}, {}, {}, {}, { clue: "4" }],
    ];
    expect(grid).toEqual(gridExpected);
  });

  it("createPuzzle", () => {
    const sudoku = new Sudoku(emptyPuzzle);
    const grid = sudoku.createPuzzle(testingPuzzle2);
    const gridExpected = [
      [{}, { clue: "3" }, {}, { clue: "9" }, {}, {}, {}, {}, {}],
      [{ clue: "6" }, {}, {}, { clue: "2" }, {}, {}, { clue: "8" }, {}, {}],
      [{ clue: "8" }, {}, {}, { clue: "6" }, { clue: "1" }, {}, { clue: "5" }, { clue: "4" }, { clue: "9" }],
      [{}, {}, {}, {}, { clue: "3" }, { clue: "2" }, { clue: "1" }, {}, {}],
      [{ clue: "2" }, {}, { clue: "8" }, {}, { clue: "4" }, {}, {}, {}, {}],
      [{}, {}, { clue: "3" }, { clue: "1" }, { clue: "9" }, {}, {}, {}, { clue: "4" }],
      [{ clue: "9" }, {}, { clue: "2" }, {}, {}, {}, {}, {}, { clue: "5" }],
      [{ clue: "1" }, {}, {}, {}, {}, {}, {}, { clue: "6" }, {}],
      [{}, {}, { clue: "4" }, {}, { clue: "6" }, {}, { clue: "9" }, {}, { clue: "8" }],
    ];
    expect(grid).toEqual(gridExpected);
  });
});
